<div class="map-page d-flex flex-column flex-grow h-100 flex-fill col-12 col-md-10 col-lg-9 col-xl-8 h-100 mx-auto">
  <!-- Header row: stacked on mobile, side-by-side on larger screens -->
  <div class="d-flex flex-column flex-md-row justify-content-between align-items-stretch py-3">
    <!-- ASCII animation - full width on mobile, 8 cols on desktop -->
    <div class="ascii-header col-12 col-md-8 text-center text-md-left mb-3 mb-md-0 px-0 px-md-2">
      <app-ascii-animation-text [messages]="[
          selectedCity().toString().toUpperCase() + ' SPOTMAP', 
          'RESPECT THE LOCALS', 
          'EXPLORE THE CONCRETE JUNGLE', 
          'TOUCH THE UNTOUCHED SPOTS', 
          'CAN SOMEONE BRING WAX?', 
          'LET`S GO PLAZA', 
          'SKATEVIDEOS > INSTAGRAM', 
          'SUPPORTED BY ROLLTROTTEL-VERBAND', 
          'ANYONE HAS A PIN?', 
          'JUST SOME RANDOM TEXT',
          'FOR EDUCATIONAL PURPOSES ONLY'
        ]" [waitFrames]="40" [animationSpeed]="45" [loop]="true" [centered]="true"
        class="ascii-animation d-inline-block px-0">
      </app-ascii-animation-text>
    </div>

    <!-- Dropdown - full width on mobile, 4 cols on desktop -->
    <div class="col-12 col-md-4 px-0 px-md-2">
      <mat-form-field appearance="outline" class="user-select-none w-100">
        <mat-label>City</mat-label>
        <mat-select [value]="selectedCity()" (selectionChange)="selectCity($event.value)">
          <mat-select-trigger>
            {{ CityToFlag[selectedCity()] + ' - ' + selectedCity() }}
          </mat-select-trigger>
          @for (country of countriesWithCities; track country) {
          <mat-optgroup [label]="country + ' ' + FlagToCountry[country]">
            @for (city of citiesByCountry.get(country); track city) {
            <mat-option [value]="city">{{ city }}</mat-option>
            }
          </mat-optgroup>
          }
        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <!-- Map container -->
  <div class="flex-row h-100">
    <app-map-container [mapLink]="selectedCity()" class="h-100 w-100 user-select-none d-block">
    </app-map-container>
  </div>
</div>