<div class="map-page d-flex flex-column flex-grow h-100 flex-fill col-12 col-md-10 col-lg-9 col-xl-8 h-100 mx-auto">
  <!-- Header row: stacked on mobile, side-by-side on larger screens -->
  <div class="d-flex flex-column flex-md-row justify-content-between align-items-center py-3">
    <!-- ASCII animation - full width on mobile, 8 cols on desktop -->
    <div class="ascii-header col-12 col-md-8 text-center text-md-start mb-3 mb-md-0 px-0 px-md-2">
      <app-ascii-animation-text [messages]="[
          selectedCity().city.toUpperCase() + ' SPOTMAP', 
          'RESPECT THE LOCALS', 
          'EXPLORE THE CONCRETE JUNGLE', 
          'TOUCH THE UNTOUCHED SPOTS', 
          'CAN SOMEONE BRING WAX?', 
          'LET`S GO PLAZA', 
          'SKATEVIDEOS > INSTAGRAM', 
          'SUPPORTED BY ROLLTROTTEL-VERBAND', 
          'ANYONE HAS A PIN?', 
          'JUST SOME RANDOM TEXT',
          'FOR EDUCATIONAL PURPOSES ONLY',
          'CONTINUOUSLY UPDATED'
        ]" [waitFrames]="40" [animationSpeed]="45" [loop]="true" [centered]="true"
        class="ascii-animation d-inline-block px-0">
      </app-ascii-animation-text>
    </div>

    <!-- Dropdown - full width on mobile, 4 cols on desktop -->
    <div class="col-12 col-md-4 px-0 px-md-2">
      <mat-form-field appearance="outline" class="user-select-none w-100">
        <mat-label>City</mat-label>
        <mat-select [value]="selectedCity()" (selectionChange)="selectCity($event.value)">
          <mat-select-trigger>
            {{ selectedCity().flag + ' - ' + selectedCity().city }}
          </mat-select-trigger>

          <ng-container *ngFor="let entry of citiesGroupedByCountry() | keyvalue">
            <mat-optgroup [label]="entry.value[0].country + ' ' + entry.key">

              <mat-option *ngFor="let city of entry.value" [value]="city">
                {{ city.city }}
              </mat-option>
            </mat-optgroup>
          </ng-container>

        </mat-select>
      </mat-form-field>
    </div>
  </div>

  <!-- Map container -->
  <div class="flex-row h-100">
    <app-map-container [city]="selectedCity().city" class="h-100 w-100 user-select-none d-block">
    </app-map-container>
  </div>
</div>